 # 数组

1、数组概述

2、数组声明创建

3、数组使用

4、多维数组

5、Arrays类

6、稀疏数组 

# 1、数组的定义

- 数组是相同类型数据的有序集合。
- 数组描述的是相同类型的若干个数据，按照一定的先后次序排列组合而成。
- 其中，每一个数据称作一个数组元素，每个数组元素可以通过一个下标来访问它们。

# 2、数组声明创建

- 首先必须声明数组变量，才能再程序中使用数组，下面是声明数组变量的语句：

```java
datType[] arrayRefVar; //首先的方法
或
dataType arrayRefVar[];//效果相同，但不是首先方法
```

- Java语言使用new操作符来创建数组，语法如下：

```java
datType[] arrayRefVar = new dataType[arraySize];
```

- 数组的元素是通过索引访问的，数组索引从0开始。
- 获取数组的长度： arrays.length

## 内存分析

- Java内存分析

![](https://github.com/GISERJayY/JavaLesson_4/blob/main/%E5%9B%BE%E7%89%87/WX20230619-230401.png?raw=true)

- 写代码画图分析内存

栈：变量类型 压入栈中。  堆：创建一个新空间，存放数组。

![](https://github.com/GISERJayY/JavaLesson_4/blob/main/%E5%9B%BE%E7%89%87/%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90.jpg?raw=true)

## 三种初始化

- 静态初始化

```java
int[] a = {1,2,3};
int[] mens = {new Man(1,2),new Man(2,2)};
```

- 动态初始化

```java
int[] a = new int[2];
a[0]=1;
a[1]=2;
```

- 数组的默认初始化
  - 数组是引用类型，它的元素相当于类的实例变量，因此数组一经分配空间，其中的每个元素也被按照实例变量同样的方式被隐式初始化。

## 数组的四个基本特点

- 其长度是确定的。数组一旦被创建，它的大小就是不可以改变的。
- 其元素必须是相同类型，不允许出现混合类型。
- 数组中的元素可以是任何数据类型，包括基本类型和引用类型。
- 数组变量属引用类型，数组也可以看成是对象，数组中的每个元素相当于该对象的成员变量。数组本身就是对象，java中对象是在堆中的，因此数组无论保存原始类型还是其他对象类型，数组对象本身是在堆中。

## 数组边界

-  下标的合法区间：[0 , length-1],如果越界就会报错；

```java
public static void main(String[] args){
  int [] a = new int[2];
  System.out.println(a[2]);
}
```

- ArrayIndexOutOfBoundsException:数组下标越界异常！
- 小结：
  - 数组是相同数据类型（数据类型可以为任意类型）有序结合。
  - 数组也是对象。数组元素相当于对象的成员变量。
  - 数组长度的确定的，不可变的。如果越界，则报：ArrayIndexOutOfBoundsException

# 3、数组的使用

- For-Each循环
- 数组作方法入参
- 数组作返回值

# 4、多纬数组

- 多维数组可以看成是数组的数组，比如二维数组就是一个特殊的一维数组，其每一个元素都是一个一维数组。
- 二维数组

```java
int a[][] = new int[3][2] 
```



![](https://github.com/GISERJayY/JavaLesson_4/blob/main/%E5%9B%BE%E7%89%87/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84.png?raw=true)

```java
int a[][] = new int[2][5]
```

- 解析：以上二维数组a可以看成一个两行五列的数组。
- 思考：多维数组的使用？

```java
num[1][0]
```

# 5、Arrays类

- 数组的工具类java.util.Arrays
- 由于数组对象本身并没有什么方法可以供我们调用，但API中提供了一个工具类Arrays供给我们使用，从而可以对数据对象进行一些基本的操作。
- 查看JDK帮助文档
- Array类中的方法都是static修饰的静态方法，在使用的时候可以直接使用类名进行调用，而“不用“使用对象来调用（注意：是”不用“，而不是”不能“）
- 具有以下常用功能：
  - 给数组赋值：通过fill方法
  - 对数组排序：通过sort方法，按升序。
  - 比较数组：通过equals方法比较数组中元素值是否相等。
  - 查找数组元素：通过binarySearch方法能对排序好的数组进行二分查找操作。

## 冒泡排序

- 冒泡排序无疑是最为出名的排序算法之一，总共有八大排序！
- 冒泡的代码还是相当简单的，两层循环，外层冒泡轮数，里层依次比较，江湖中人人尽皆知。
- 我们看到嵌套循环，应该立马就可以得出这个算法的时间复杂度为o(n2)。
- 思考：如何优化？

# 6、稀疏数组

- 需要：编写五子棋游戏中，有存盘退出和读上盘的功能。

 ![](https://github.com/GISERJayY/JavaLesson_4/blob/main/%E5%9B%BE%E7%89%87/%E6%A3%8B%E7%9B%98.png?raw=true)

- 分析问题：因为该二维数组最多值是默认值0，因此记录了很多没有意义的数据。
- 解决：稀疏数组
- 当一个数组中大部分元素为0，或者为同一值的数组时，可以使用稀疏数组来保存该数组。
- 稀疏数组的处理方式时：
  - 记录数组一共几行几列，有多少个不同值
  - 把具体有不同值的元素和行列及值记录在一个小规模的数组中，从而缩小程序的规模
- 如下图：左边是原始数组，右边是稀疏数组

![](https://github.com/GISERJayY/JavaLesson_4/blob/main/%E5%9B%BE%E7%89%87/%E7%A8%80%E7%96%8F%E6%95%B0%E7%BB%84.png?raw=true)





